{"version":3,"sources":["../src/components.js"],"names":["React","PropTypes","MediaQuery","isNaN","defaultConfig","TAG","ReactResponsiveConnect","getMedia","getMediaMinWidthByType","getMediaMaxWidthByType","mediaQueryBuilder","isStringOrNumber","isString","MediaQueryWrapper","props","values","deviceWidth","width","children","isInvertMatch","other","process","browser","fakeWidth","contextService","require","get","matches","propTypes","oneOfType","node","func","component","string","dispatch","isRequired","number","bool","defaultProps","responsiveWrapper","p","generateShowHideComponent","media","customConfig","on","from","to","fromValue","Number","toValue","query","mediaQuery","isHideComponent","Error","undefined","Show","displayName","Hide","defaultMedia","PhoneScreen","phone","TabletScreen","tablet","DesktopAndUpScreen","desktop","PhoneAndTabletScreen","maxWidth","TabletAndUpScreen","minWidth"],"mappings":"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","file":"components.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport MediaQuery from 'react-responsive'\nimport isNaN from 'lodash/isNaN';\nimport { defaultConfig, TAG } from './default-config'\nimport { ReactResponsiveConnect } from './react-responsive-connect';\nimport { getMedia } from './media'\nimport { getMediaMinWidthByType, getMediaMaxWidthByType, mediaQueryBuilder, isStringOrNumber, isString } from './helpers'\n\nexport const MediaQueryWrapper = (props = {}) => {\n  // eslint-disable-next-line no-unused-vars\n  const values = { deviceWidth: 1, width: 1 };\n  const { children, isInvertMatch,  ...other } = props;\n\n  if (process.browser) {\n    values.deviceWidth = MediaQueryWrapper.fakeWidth;\n    values.width = MediaQueryWrapper.fakeWidth;\n  } else {\n    const contextService = require('request-context');\n    const width = contextService.get('request:responsive.detectedMediaWidth');\n    values.deviceWidth = width;\n    values.width = width;\n  }\n\n  return (\n    <MediaQuery {...other} {...{ values }} >\n      {(matches) => {\n        if (matches) {\n          return isInvertMatch ? null : children;\n        }\n        return isInvertMatch ? children : null;\n      }}\n    </MediaQuery>\n  )\n};\n\nMediaQueryWrapper.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  component: PropTypes.oneOfType([PropTypes.node, PropTypes.func, PropTypes.string]),\n  dispatch: PropTypes.func.isRequired,\n  fakeWidth: PropTypes.number.isRequired,\n  isInvertMatch: PropTypes.bool,\n};\n\nMediaQueryWrapper.defaultProps = {\n  isInvertMatch: false,\n};\n\nMediaQueryWrapper.defaultProps = {\n  children: null,\n  component: 'div',\n};\n\nexport const responsiveWrapper = (props = {}) => (p => MediaQueryWrapper({ ...props, ...p }));\n\nconst generateShowHideComponent = isHideComponent => (props) => {\n  const media = getMedia(ReactResponsiveConnect.customConfig || defaultConfig);\n  const {\n    on,\n    from,\n    to,\n    children,\n  } = props;\n  const fromValue = isNaN(Number(from)) ? getMediaMinWidthByType(from, media) : from;\n  const toValue = isNaN(Number(to)) ? getMediaMaxWidthByType(to, media) : to;\n\n  if (on) {\n    if (media[on]) {\n      return MediaQueryWrapper({\n        query: media[on].mediaQuery,\n        isInvertMatch: isHideComponent,\n        children,\n      });\n    }\n    throw new Error(`${TAG} No ${on} definition in media configuration`);\n  }\n\n  if (from !== undefined && to !== undefined) {\n    return MediaQueryWrapper({\n      query: mediaQueryBuilder(fromValue, toValue),\n      isInvertMatch: isHideComponent,\n      children,\n    });\n  } else if (from !== undefined) {\n    return MediaQueryWrapper({\n      query: mediaQueryBuilder(fromValue, undefined),\n      isInvertMatch: isHideComponent,\n      children,\n    });\n  } else if (to !== undefined) {\n    return MediaQueryWrapper({\n      query: mediaQueryBuilder(undefined, toValue),\n      isInvertMatch: isHideComponent,\n      children,\n    });\n  }\n  return null;\n};\n\nconst propTypes = {\n  from: (props) => {\n    const { on, from } = props;\n    if (from !== undefined && !isStringOrNumber(from)) {\n      return new Error(`${TAG} Improper value type of the 'from' prop (${from}), only a String or a Number`);\n    } else if (from && on) {\n      return new Error(`${TAG} Used excluding props from and on`);\n    }\n    return null\n  },\n  on: (props) => {\n    const { on, from, to } = props;\n    if (on && !isString(on)) {\n      return new Error(`${TAG} Improper value type of the 'on' prop (${on}), only a String`);\n    } else if (on && (from || to)) {\n      return new Error(`${TAG} Used excluding props for and from or to!`);\n    }\n    return null;\n  },\n  to: ({ on, to }) => {\n    if (to !== undefined && !isStringOrNumber(to)) {\n      return new Error(`${TAG} Improper value type of the 'to' prop (${to}), only a String or a Number`);\n    } else if (to && on) {\n      return new Error(`${TAG} Used excluding props from and on`);\n    }\n    return null;\n  },\n};\n\nexport const Show = generateShowHideComponent(false);\nShow.propTypes = propTypes;\nShow.displayName = 'Show';\n\nexport const Hide = generateShowHideComponent(true);\nHide.propTypes = propTypes;\nHide.displayName = 'Hide';\n\n\n// Legacy for versions < 0.8.0\n// WARNING: Works only with the default config\nconst defaultMedia = getMedia(defaultConfig);\nexport const PhoneScreen = responsiveWrapper({ query: defaultMedia.phone.mediaQuery });\nPhoneScreen.displayName = 'PhoneScreen';\nexport const TabletScreen = responsiveWrapper({ query: defaultMedia.tablet.mediaQuery });\nTabletScreen.displayName = 'TabletScreen';\nexport const DesktopAndUpScreen = responsiveWrapper({ query: defaultMedia.desktop.mediaQuery });\nDesktopAndUpScreen.displayName = 'DesktopAndUpScreen';\nexport const PhoneAndTabletScreen = responsiveWrapper({ query: `(max-width: ${defaultMedia.tablet.maxWidth}px)` });\nPhoneAndTabletScreen.displayName = 'PhoneAndTabletScreen';\nexport const TabletAndUpScreen = responsiveWrapper({ query: `(min-width: ${defaultMedia.tablet.minWidth}px)` });\nTabletAndUpScreen.displayName = 'TabletAndUpScreen';\n"]}